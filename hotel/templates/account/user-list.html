{% extends 'account/base.html' %}
{% load static %}

{% block vendors-css %}
<!-- Vendors CSS -->
<link
rel="stylesheet"
href="{% static 'vendor/libs/perfect-scrollbar/perfect-scrollbar.css'%}"/>
<link
rel="stylesheet"
href="{% static 'vendor/libs/node-waves/node-waves.css'%}"/>
<link
rel="stylesheet"
href="{% static 'vendor/libs/typeahead-js/typeahead.css'%}"/>
<link
rel="stylesheet"
href="{% static 'vendor/libs/datatables-bs5/datatables.bootstrap5.css'%}"/>
<link
rel="stylesheet"
href="{% static 'vendor/libs/datatables-responsive-bs5/responsive.bootstrap5.css'%}"/>
<link
rel="stylesheet"
href="{% static 'vendor/libs/datatables-buttons-bs5/buttons.bootstrap5.css'%}"/>
<link
rel="stylesheet"
href="{% static 'vendor/libs/datatables-checkboxes-jquery/datatables.checkboxes.css'%}"/>
<link
rel="stylesheet"
href="{% static 'vendor/libs/select2/select2.css'%}"/>
<link
rel="stylesheet"
href="{% static 'vendor/libs/formvalidation/dist/css/formValidation.min.css'%}"/>
{% endblock %}

{% block page-css %}
{% endblock %}

{% block contant %}
<div class="container-xxl flex-grow-1 container-p-y">
  <div class="row g-4 mb-4">
    <div class="col-sm-6 col-xl-3">
      <div class="card">
        <div class="card-body">
          <div class="d-flex align-items-center">
            <div class="avatar">
              <div class="avatar-initial bg-label-primary rounded">
                <div class="mdi mdi-account-outline mdi-24px"></div>
              </div>
            </div>
            <div class="ms-3">
              <div class="d-flex align-items-center">
                <h5 class="mb-0">8,458</h5>
                <div
                  class="mdi mdi-chevron-down text-danger mdi-24px"
                ></div>
                <small class="text-danger">8.1%</small>
              </div>
              <small class="text-muted">مشتری جدید</small>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="col-sm-6 col-xl-3">
      <div class="card">
        <div class="card-body">
          <div class="d-flex align-items-center">
            <div class="avatar">
              <div class="avatar-initial bg-label-warning rounded">
                <div class="mdi mdi-poll mdi-24px"></div>
              </div>
            </div>
            <div class="ms-3">
              <div class="d-flex align-items-center">
                <h5 class="mb-0">$28.5K</h5>
                <div
                  class="mdi mdi-chevron-up text-success mdi-24px"
                ></div>
                <small class="text-success">18.2%</small>
              </div>
              <small class="text-muted">سود کل</small>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="col-sm-6 col-xl-3">
      <div class="card">
        <div class="card-body">
          <div class="d-flex align-items-center">
            <div class="avatar">
              <div class="avatar-initial bg-label-info rounded">
                <div class="mdi mdi-trending-up mdi-24px"></div>
              </div>
            </div>
            <div class="ms-3">
              <div class="d-flex align-items-center">
                <h5 class="mb-0">2,450K</h5>
                <div
                  class="mdi mdi-chevron-down text-danger mdi-24px"
                ></div>
                <small class="text-danger">24.6%</small>
              </div>
              <small class="text-muted">معاملات جدید</small>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="col-sm-6 col-xl-3">
      <div class="card">
        <div class="card-body">
          <div class="d-flex align-items-center">
            <div class="avatar">
              <div class="avatar-initial bg-label-success rounded">
                <div class="mdi mdi-currency-usd mdi-24px"></div>
              </div>
            </div>
            <div class="ms-3">
              <div class="d-flex align-items-center">
                <h5 class="mb-0">$48.2K</h5>
                <div
                  class="mdi mdi-chevron-down text-success mdi-24px"
                ></div>
                <small class="text-success">22.5%</small>
              </div>
              <small class="text-muted">کل درآمد</small>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <!-- Users List Table -->
  <div class="card">
    <div class="card-header">
      <!-- <h5 class="card-title">فیلتر جستجو</h5> -->
      <div
        class="d-flex justify-content-between align-items-center row py-3 gap-3 gap-md-0">
        <div class="col-md-4 user_role"></div>
        <div class="col-md-4 user_plan"></div>
        <div class="col-md-4 user_status"></div>
      </div>
    </div>
    <div class="card-datatable table-responsive">
      <table class="datatables-users table">
        <thead class="table-light">
          <tr>
            <th></th>
            <th></th>
            <th>نام</th>
            <th>نام‌خانوادگی</th>
            <th>نقش کاربر</th>
            <th>شماره موبایل</th>
            <th>کدملی</th>
            <th>تاریخ تولد</th>
            <th>جنسیت</th>
            <th>ویرایش</th>
          </tr>
        </thead>
        <tbody id="table-body">
          {% for u in users %}
          <tr>
            <td></td>
            <td></td>
            <td>{{ u.first_name }}</td>
            <td>{{ u.last_name }}</td>
            <td>{{ u.get_user_status_display_persian }}</td>          
            <td>{{ u.mobile_number }}</td>
            <td>{{ u.national_code }}</td>
            <td>{{ u.birth_date }}</td>
            <td>{{ u.gender }}</td>
            <td><a href="{% url 'account:edit_user' u.id %}">ویرایش</a></td>
          </tr>
          {% endfor %}        
        </tbody>
      </table>
    </div>
    <!-- Offcanvas to add new user -->
    <div
      class="offcanvas offcanvas-end"
      tabindex="-1"
      id="offcanvasAddUser"
      aria-labelledby="offcanvasAddUserLabel"
    >
      <div class="offcanvas-header">
        <h5 id="offcanvasAddUserLabel" class="offcanvas-title">
          افزودن کاربر
        </h5>
        <button
          type="button"
          class="btn-close text-reset"
          data-bs-dismiss="offcanvas"
          aria-label="Close"
        ></button>
      </div>
      <div class="offcanvas-body mx-0 flex-grow-0">
        <form
          class="add-new-user pt-0"
          id="addNewUserForm"
          onsubmit="return false"
        >
          <div class="form-floating form-floating-outline mb-4">
            <input
              type="text"
              class="form-control"
              id="add-user-fullname"
              placeholder="جان اسنو"
              name="userFullname"
              aria-label="جان اسنو"
            />
            <label for="add-user-fullname">نام کامل</label>
          </div>
          <div class="form-floating form-floating-outline mb-4">
            <input
              type="text"
              id="add-user-email"
              class="form-control"
              placeholder="MahdiMH@example.com"
              aria-label="mahdimh@example.com"
              name="userEmail"
            />
            <label for="add-user-email">ایمیل</label>
          </div>
          <div class="form-floating form-floating-outline mb-4">
            <input
              type="text"
              id="add-user-contact"
              class="form-control phone-mask"
              placeholder="09131234567"
              aria-label="mahdimh@example.com"
              name="userContact"
            />
            <label for="add-user-contact">تلفن</label>
          </div>
          <div class="form-floating form-floating-outline mb-4">
            <input
              type="text"
              id="add-user-company"
              class="form-control"
              placeholder="تیک تاک"
              aria-label="jdoe1"
              name="companyName"
            />
            <label for="add-user-company">شرکت</label>
          </div>
          <div class="form-floating form-floating-outline mb-4">
            <select id="country" class="select2 form-select">
              <option value="">انتخاب کنید</option>
              <option value="استرالیا">استرالیا</option>
              <option value="بنگلادش">بنگلادش</option>
              <option value="بلاروس">بلاروس</option>
              <option value="برزیل">برزیل</option>
              <option value="کانادا">کانادا</option>
              <option value="چین">چین</option>
              <option value="فرانسه">فرانسه</option>
              <option value="آلمان">آلمان</option>
              <option value="هند">هند</option>
              <option value="اندونزی">اندونزی</option>
              <option value="ایران">ایران</option>
              <option value="ایتالیا">ایتالیا</option>
              <option value="ژاپن">ژاپن</option>
              <option value="Korea">کره جنوبی</option>
              <option value="مکزیک">مکزیک</option>
              <option value="فیلیپین">فیلیپین</option>
              <option value="Russia">روسیه</option>
              <option value="آفریقای جنوبی">آفریقای جنوبی</option>
              <option value="تایلند">تایلند</option>
              <option value="ترکیه">ترکیه</option>
              <option value="اوکراین">اوکراین</option>
              <option value="امارات">
                امارات
              </option>
              <option value="انگلستان">انگلستان</option>
              <option value="ایالات متحده">ایالات متحده</option>
            </select>
            <label for="country">کشور</label>
          </div>
          <div class="form-floating form-floating-outline mb-4">
            <select id="user-role" class="form-select">
              <option value="subscriber">دنبال کننده</option>
              <option value="editor">ویرایشگر</option>
              <option value="maintainer">نگهدارنده</option>
              <option value="Author">نویسنده</option>
              <option value="admin">ادمین</option>
            </select>
            <label for="user-role">نقش کابربر</label>
          </div>
          <div class="form-floating form-floating-outline mb-4">
            <select id="user-plan" class="form-select">
              <option value="basic">ساده</option>
              <option value="enterprise">سازمانی</option>
              <option value="company">شرکتی</option>
              <option value="team">تیمی</option>
            </select>
            <label for="user-plan">انتخاب پلن</label>
          </div>
          <button
            type="submit"
            class="btn btn-primary me-sm-3 me-1 data-submit"
          >
            ثبت
          </button>
          <button
            type="reset"
            class="btn btn-label-secondary"
            data-bs-dismiss="offcanvas"
          >
            انصراف
          </button>
        </form>
      </div>
    </div>
  </div>
</div>
{% endblock %}

{% block vondors-js %}
<script src="{% static 'vendor/libs/moment/moment.js'%}"></script>
    <script src="{% static 'vendor/libs/datatables-bs5/datatables-bootstrap5.js'%}"></script>
    <script src="{% static 'vendor/libs/select2/select2.js'%}"></script>
    <script src="{% static 'vendor/libs/formvalidation/dist/js/FormValidation.min.js'%}"></script>
    <script src="{% static 'vendor/libs/formvalidation/dist/js/plugins/Bootstrap5.min.js'%}"></script>
    <script src="{% static 'vendor/libs/formvalidation/dist/js/plugins/AutoFocus.min.js'%}"></script>
    <script src="{% static 'vendor/libs/cleavejs/cleave.js'%}"></script>
    <script src="{% static 'vendor/libs/cleavejs/cleave-phone.js'%}"></script>
{% endblock %}

{% block page-js %}
<!-- <script src="{% static 'js/app-user-list.js'%}"></script> -->
{% endblock %}